## 네트워크 개요
- 네트워크: 전송 매체를 통하여 연결된 컴퓨터들의 상호 정보 교환 시스템
- 프로토콜: 네트워크 통신을 위한 통신 절차 및 규약. 전송 데이터의 캡슐화 및 캡슐 해제화가 이루어짐
- LAN: 기업이나 조직 등 비교적 좁은 범위 안에 존재하는 컴퓨터 네트워크. 케이블을 통한 유선 LAN, 전파를 통한 무선 LAN이 있음

### 네트워크 장치
- 모뎀: 디지털 <--> 아날로그 신호 변환 장치. 컴퓨터 통신 초기에 전화망을 이용한 통신에 사용됨
- network interface card (LAN 카드): 컴퓨터와 외부의 네트워크를 연결해 주는 장치. 디지털 신호를 직접 전송하고 받음
- 브리지: 두 개 이상의 LAN을 서로 연결하여 하나의 네트워크로 만들어줌. 프레임의 물리주소를 필터링함
- 라우터: 여러개의 독립된 네트워크를 연결하여 인터넷 상의 통신이 가능하게 함

### OSI 모델
- 제 1 계층(**물리 계층**): 네트워크 케이블의 재질이나 커넥터의 형식, 핀의 나열 방법 등 물리적인 요소를 모두 규정한다 (이더넷).
- 제 2 계층(**데이터 링크 계층**): 직접 연결된 기기 사이에 논리적인 전송로(데이터 링크)를 확립하는 방법을 규정한다 (이더넷).
- 제 3 계층(**네트워크 계층**) : 동일 또는 다른 네트워크의 기기와 연결하기 위한 주소와 경로의 선택 방법을 규정한다 (IP, ICMP, ARP).
- 제 4 계층(**전송 계층**) : 데이터를 통신할 상대에게 확실하게 전달하는 방법을 규정한다 (TCP / UDP).
- 제 5 계층(**세션 계층**) : 데이터를 흘려보내는 논리적인 통신로(커넥션)의 확립과 연결 끊기에 대해 규정한다 (HTTP 등).
- 제 6 계층(**표현 계층**) : 애플리케이션 데이터를 통신에 적합한 형태로 변환하는 방법을 규정한다 (HTTP 등).
- 제 7 계층(**응용 계층**) : 애플리케이션 별로 서비스를 제공하는 방법을 규정한다 (HTTP 등).

#### 이더넷
- 유선 네트워크의 경우 거의 대부분이 이더넷을 사용함
- 네트워크 계층 (제 3 계층)으로부터 받은 데이터(패킷)에 이더넷 헤더를 추가하여 **프레임**을 생성함. MAC 주소를 사용하여 컴퓨터를 식별함
- MAC 주소: 데이터링크 계층 (제 2 계층)에서 통신을 위해 사용되는 48비트로된 컴퓨터 식별자 (16진수 사용). NIC에 할당되는 MAC 주소는 기기당 하나 밖에 없는 고유한 값임

#### 스위칭
- 네트워크 스위치: 데이터링크 계층에서 사용하는 네트워크 기기로 LAN 케이블을 통해 컴퓨터를 연결함. 프레임이 들어온 LAN 포트 번호와 출발지 MAC 주소를 일정 기간 동안 기억함
- 스위칭: 네트워크 스위치가 패킷 내 포함된 주소 정보에 따라 해당 입력 패킷을 출력 포트에 빠르게 접속시키는 기능

#### IP (Internet Protocol)
- 전송 계층 (제 4 계층)으로부터 받은 데이터(세그먼트)에 IP 헤더를 붙여 **패킷**으로 만드는 역할을 함
- IP 주소: 32비트로된 컴퓨터 식별 번호 (10진수로 표기). 네트워크 분리 및 구분을 위해 서브넷 마스크와 세트로 사용. 네트워크부는 네트워크를 나타내고, 호스트부는 네트워크 내의 단말을 나타냄
  - ex)192.168.1.1/16: 서브넷 마스크는 255.255.0.0이고 앞의 16비트가 네트워크 부임 
  
#### 라우팅
- 라우터가 네트워크에서 패킷을 목적지까지 보내기 위해 최적의 경로를 선택하는 과정
- 라우터: 각각의 독립된 네트워크를 연결할 때 사용되는 L3(네트워크 계층) 장비. 라우팅 테이블 (목적지 IP, next hop IP로 구성됨)을 이용하여 패킷을 전송함

#### ARP (Address Resolution Protocol)
- 물리적인 주소인 MAC 주소와 논리적인 주소인 IP 주소를 대응시키는 역할. 네트워크 통신을 위해 제 3 계층으로부터 받은 패킷을 프레임으로 만들어 케이블로 흘려보내야 하는데, 이때 ARP를 이용하여 IP 주소로부터 목적지 MAC 주소를 구함

#### TCP/UDP
- 애플리케이션 데이터에 TCP 또는 UDP 헤더를 추가하여 세그먼트가 만들어짐
- TCP (Transmission Control Protocol): 전송 제어 프로토콜로 L4(전송 계층)에서 사용됨. 연결형 프로토콜로 흐름제어와 오류제어를 함. 데이터 송신시 마다 확인 응답을 주고 받기 때문에 통신의 신뢰성이 높음. 데이터 누락을 원하지 않는 서비스에서 주로 사용
- UDP (User Datagram Protocol): Datagram으로 불리는 단문 메시지를 교환하기 위해 사용되는 비연결형 프로토콜. 종단간 연결설정, 흐름제어, 오류제어를 하지 않음. 확인 응답의 절차가 생략되어 통신의 신속성을 높임. DNS 등에 사용됨

#### 포트 번호
- 컴퓨터 안에서 작동하는 애플리케이션을 식별하기 위해 사용되는 숫자. 0 ~ 65535 (16비트)까지의 범위를 가짐. 세그먼트를 만들 때 헤더에 출발지 포트와 목적지 포트가 들어감

#### NAT와 NAPT
- 기업이나 가정의 LAN에서 사용하는 private IP 주소를 인터넷에서 사용하는 global IP 주소로 변환하는 기술
- NAT(Network Address Translation): 일대일 변환. 주로 서버를 인터넷에 공개할 때 사용. LAN->인터넷: 출발지 IP 주소 변환. 인터넷->LAN: 목적지 IP 주소 변환
- NAPT (Network Address Port Translation): n대 1 변환. LAN에서 인터넷에 액세스시 출발지 IP 주소와 포트 번호를 하나의 global IP로 변환

## HTTP
- HTTP 는 HyperText Transfer Protocol 의 줄임말로 WWW 상에서 사용하는 프로토콜이다.
- WWW: HyperText들을 URL을 통해 연결시켜서 형성된 정보 공유를 위한 가상의 공간
- HTTP 메시지 구조: 시작 줄/ header/ body

### GET과 POST
1) Get 방식
- 클라이언트에서 서버로 어떤 리소스를 요청하기 위한 HTTP 메서드
- ex) 게시판의 게시글 조회
- 요청 url 끝에 parameter인 query string을 포함하여 전송 (HTTP 요청 메시지에 body가 없음)
- 캐시가 가능함. 해당 리소스의 웹 캐시가 있는 경우 서버에 접근하지 않고 리소스의 복사본을 반환함
- query string이 다 보여지므로 보안성이 떨어짐/ 전송 데이터의 길이 제한이 있음
2) Post 방식
- 클라이언트에서 서버로 리소스 생성이나 업데이트를 하기 위한 데이터 전송시 사용되는 HTTP 메서드 
- ex) 게시판에 게시글 작성
- 전송할 데이터를 HTTP 메시지 Body에 담아서 전송
- POST 요청은 캐시되지 않음. 전송 데이터의 길이 제한 없음
- GET과 같이 데이터가 외부로 드러나지 않으므로 보안성이 더 좋음 (그러나 데이터가 암호화되지 않으면 body의 데이터도 볼 수 있음) 

### 세션과 쿠키
1) 사용 이유
- HTTP프로토콜은 새로운 페이지를 요청할 때마다 새로운 접속이 이루어지며 이전 페이지와 현재 페이지 간의 관계가 지속되지 않는다. 이에 따라 웹사이트에서는 특정 방문자가 머무르고 있는 동안에 그 방문자의 상태를 지속시키기 위해 쿠키와 세션을 이용한다.
2) Session
- 클라이언트가 웹서버에 연결된 순간부터 웹 브라우저를 닫아 HTTP 통신이 끝날때 까지의 기간
- 최초 요청시 서버에서 session 객체를 생성하고 각 클라이언트 마다 고유한 session ID 값을 부여함
- 쿠키를 사용하여 session ID 값을 클라이언트에 보냄
- **결국 세션은 쿠키를 이용하는 하나의 방식일 뿐 반대의 개념이 아님**
- 브라우저가 닫히거나 서버에서 삭제 시 사라짐
3) Cookie
- 서버가 사용자의 웹 브라우저에 전송하는 작은 데이터 조각. 웹 사이트에 접속한 클라이언트의 확인을 위해 만들어짐
- 요청을 받은 서버에서 쿠키를 HTTP header에 담아서 클라이언트로 보냄 -> 클라이언트는 쿠키 디렉토리에 domain name 별로 쿠키를 저장함 -> 이후 클라이언트가 동일 서버로 HTTP 요청을 보내면 저장된 쿠키도 함께 전송됨
- 서버가 아닌 Client PC에 텍스트 파일로 저장됨. 기본적으로는 웹 브라우저 종료시 삭제됨
- 클라이언트의 쿠키를 확인할 경우 정보 유출의 가능성이 있음 -> **중요한 정보는 서버의 세션에서 관리하고, 클라이언트에게 session ID를 주어 식별 가능하도록 함**
- 모든 정보를 서버 내의 세션에 저장할 경우 과부하가 걸리기 때문에 중요하지 않은 설정 정보 등은 쿠키에 저장

https://noahlogs.tistory.com/47?category=827412 [인생의 로그캣] 에서 요약 정리함
