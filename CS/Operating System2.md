## 운영체제의 구조

<img src="https://user-images.githubusercontent.com/65876994/90761748-d3ca5c80-e31e-11ea-9975-84c176715e6b.PNG" width="250" height="250">

- 운영체제는 응용 프로그램이 요청하는 메모리를 허가/분배하고, CPU 시간을 제공
- 또한 IO Devices 사용을 허가/제공

### 운영체제는 사용자 인터페이스 제공
- Shell: 사용자가 운영체제 기능을 조작할 수 있도록 인터페이스를 제공하는 응용 프로그램
 - Shell은 터미널 환경(CLI)과 GUI 환경 두 종류로 분류됨
- 운영체제는 응용 프로그램을 위해서도 인터페이스를 제공
 - API (Application Programming Interface): 언어별 운영체제 기능 호출 인터페이스 함수. "요청서"와 같은 것
 
### 시스템 콜
- 운영체제 커널 영역의 각 기능을 호출하는 명령 또는 함수. 이를 통해 응용 프로그램은 운영체제와 상호작용하여서 시스템 자원을 할당받음
- 응용 프로그램은 시스템콜을 각 언어별로 정리한 라이브러리인 API를 통해 시스템콜을 요청함
- ex) POSIX API (LINUX), 윈도우 API
- ex) 응용 프로그램에서 특정 파일의 데이터를 읽는 기능을 구현하고 실행한다면, 해당 응용 프로그램이 사용하는 언어의 API를 통해서 시스템콜이 요청되고, 시스템콜이 커널 영역의 하드디스크에 있는 해당 파일을 열어서 그 데이터를 응용 프로그램에 전달한다.

### CPU의 권환 모드 (CPU protection rings)
- 사용자 모드: 응용 프로그램이 사용
- 커널 모드: OS가 사용. 특권 명령어 실행 및 메모리나 하드디스크와 같은 핵심 자원 접근 가능. 시스템콜은 커널 모드로 실행됨
- 이러한 모드 구분을 통해 응용 프로그램이 컴퓨터 시스템을 헤치지 못하도록 함

### 정리
- 운영체제는 **시스템 콜**을 제공
- 언어별로 시스템 콜이 정리된 API가 제공됨
- 응용 프로그램은 운영체제의 기능 필요시 해당 API를 사용하여 작성됨
- 응용 프로그램이 실행되어서 해당 API를 호출하면, 시스템 콜이 호출되고, 커널 모드로 변경되어 OS 커널 영역에서 해당 명령이 실행되고 다시 응용 프로그램 (사용자 모드)로 돌아감
